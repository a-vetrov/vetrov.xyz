(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(t,e,n){t.exports=n.p+"static/media/bg.2da05700.svg"},function(t,e,n){t.exports=n(29)},,,,,function(t,e,n){},,function(t,e,n){},,function(t,e,n){},,function(t,e,n){},,function(t,e,n){},,function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),a=n(10),i=n.n(a),s=(n(17),n(1)),d=n(2),u=n(4),l=n(3),c=n(5),p=n(11),h=n.n(p),f=(n(19),n(21),function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return r.a.createElement("button",{className:"Button",onClick:this.props.onClick,disabled:this.props.disabled},this.props.label)}}]),e}(o.Component)),m=(n(23),function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this,e="\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f".split("").map(function(e,n){return r.a.createElement(f,{label:e,onClick:function(){return t.props.handleClick(e)},key:"button"+n,disabled:t.props.disabled})});return r.a.createElement("div",{className:"ButtonList"},e)}}]),e}(o.Component)),w=(n(25),function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"LetterPlate"},r.a.createElement("div",{className:"LetterPlate-letter"},this.props.letter))}}]),e}(o.Component)),b=(n(27),n(7)),v=n(6),g=n.n(v),S=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(a)))).sound=null,n.ref=r.a.createRef(),n.stopCurrentSound=function(){n.sound&&n.sound.stop()},n.componentWillUnmount=function(){n.stopCurrentSound()},n.onImageLoad=function(){var t=g()(n.ref.current);if(void 0===t.css("object-fit")){var e=t[0].naturalWidth,o=t[0].naturalHeight;if(e/o>=280/370){t.width(280),t.height(280*o/e);var r=370-t.height();t.css("margin",10+r/2+"px 0 "+r/2+"px 0")}else{t.height(370),t.width(370*e/o);var a=280-t.width();t.css("margin","0 "+a/2+"px 0 "+(10+a/2)+"px")}}},n}return Object(c.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return this.stopCurrentSound(),"appear"===this.props.status&&(this.sound=new b.Howl({src:[this.props.wordSound],onend:this.props.handler,autoplay:!0})),r.a.createElement("div",{className:"word word_"+this.props.status,onAnimationEnd:this.props.handleAnimationFinish},r.a.createElement("img",{className:"word-image",src:this.props.pictureUrl,alt:this.props.word,ref:this.ref,onLoad:this.onImageLoad}),r.a.createElement("p",{className:"word-caption"},this.props.word))}}]),e}(o.Component),j=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).sound1=null,n.sound2=null,n.sound1Loaded=!1,n.sound2Loaded=!1,n.soundsReady=function(){return n.sound1Loaded&&n.sound2Loaded},n.handlerSound1Loaded=function(){n.sound1Loaded=!0,n.soundsReady()&&n.sound1.play()},n.handlerSound2Loaded=function(){n.sound2Loaded=!0,n.soundsReady()&&n.sound1.play()},n.handleSound1FinishedPlaying=function(){n.sound2.play()},n.stopCurrentSound=function(){n.sound1&&n.sound1.stop(),n.sound2&&n.sound2.stop()},n.componentWillUnmount=function(){n.stopCurrentSound()},n}return Object(c.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return this.stopCurrentSound(),this.sound1||(this.sound1=new b.Howl({src:["mp3/words/letter.mp3"],onload:this.handlerSound1Loaded,onend:this.handleSound1FinishedPlaying})),this.sound2Loaded=!1,this.sound2=new b.Howl({src:[this.props.letterSound],onload:this.handlerSound2Loaded,onend:this.props.handler}),null}}]),e}(o.PureComponent),O=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).$initXML=null,n.loadInitXML=function(){g.a.get("init.xml",function(t){n.$initXML=g()(t),n.setState({configLoaded:!0})}).fail(function(){console.log("init.xml loading error")})},n.handleClick=function(t){var e,o=n.$initXML.find("letter[value="+t+"]"),r=o.find("item");if(r.length>1)do{e=g()(r[n.randRange(0,r.length-1)])}while(e.attr("word")===n.state.word);else e=g()(r[0]);var a=n.state.word?{word:n.state.word,wordSound:n.state.wordSound,pictureUrl:n.state.pictureUrl}:null;n.setState({letter:t,letterSound:o.attr("mp3"),word:e.attr("word"),wordSound:e.attr("mp3"),pictureUrl:e.attr("img"),letterAppeared:!1,previousWord:a,uid:n.state.uid+1})},n.getUID=function(){return"uid"+n.state.uid},n.randRange=function(t,e){return Math.round(t+Math.random()*(e-t))},n.handleLetterFinishedPlaying=function(){n.setState({letterAppeared:!0})},n.handlePreviousAnimationFinish=function(){n.setState({previousWord:null})},n.state={letter:null,configLoaded:!1,letterSound:null,wordSound:null,word:null,pictureUrl:null,letterAppeared:!1,previousWord:null,uid:0},n.loadInitXML(),n}return Object(c.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this.getUID(),e=this.state.letter?r.a.createElement(w,{letter:this.state.letter,key:"plate"+t}):null,n=this.state.letter?r.a.createElement(j,{letterSound:this.state.letterSound,handler:this.handleLetterFinishedPlaying,key:"letterSound"+t}):null,o=this.state.letterAppeared?"appear":"invisible",a=this.state.wordSound?r.a.createElement(S,{pictureUrl:this.state.pictureUrl,wordSound:this.state.wordSound,word:this.state.word,status:o}):null,i=this.state.previousWord?r.a.createElement(S,{pictureUrl:this.state.previousWord.pictureUrl,wordSound:this.state.previousWord.wordSound,word:this.state.previousWord.word,status:"disappear",handleAnimationFinish:this.handlePreviousAnimationFinish}):null;return r.a.createElement("div",{className:"App"},r.a.createElement("img",{src:h.a,className:"App-bg",alt:""}),r.a.createElement(m,{handleClick:this.handleClick,disabled:!this.state.configLoaded}),e,n,i,a)}}]),e}(o.Component);i.a.render(r.a.createElement(O,null),document.getElementById("root"))}],[[12,2,1]]]);
//# sourceMappingURL=main.bac0e268.chunk.js.map